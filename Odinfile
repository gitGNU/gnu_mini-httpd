# Build the http daemon.

httpd == %httpd.cc.sm +cxx_flags='-Wall -ansi -pedantic' \
                      +lib=(libscheduler/libscheduler.a) \
                      +define='DISABLE_TRACER NDEBUG' \
                      +optimize=0 \
                      :exe

%httpd.cc.sm == <<
    main.cc
    log.cc
    config.cc +define='DOCUMENT_ROOT="/home/simons/projects/httpd"'
    rh-construction.cc
    rh-misc.cc
    rh-process-input.cc
    rh-readable.cc
    rh-timeouts.cc
    rh-writable.cc
    rh-errors.cc

%clean ! == !<<
    rm -f httpd libscheduler/libscheduler.a
